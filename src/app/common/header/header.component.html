<!-- scroll top -->
<div class="circle-container">
  <svg class="circle-progress svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
    <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98" />
  </svg>
</div>
<!-- Start Sidebar section -->
<div class="sidebar-menu" [ngClass]="{'active': isSidebarVisible}">
  <div class="sidebar-menu-top-area">
    <div class="container d-flex align-items-center justify-content-between">
      <div class="sidebar-menu-logo">
        <a class="logo-dark" [routerLink]="['/home']"><img width="152" height="45" alt="image" class="img-fluid"
            src="assets/img/logo_dark.svg" /></a>
        <!-- <a class="logo-light" [routerLink]="['/home']"><img alt="image" class="img-fluid"
            src="assets/img/logo_dark.svg" /></a> -->
      </div>
      <div class="sidebar-menu-close" (click)="hideSidebar()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 18 18">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M18 0L11.1686 8.99601L18 18L9.0041 11.1605L0 18L6.83156 8.99601L0 0L9.0041 6.83156L18 0Z"></path>
        </svg>
      </div>
    </div>
  </div>
  <!-- mobile menu -->

  <div class="container">
    <div class="row g-lg-4 gy-5">
      <div class="col-lg-8">
        <div class="sidebar-menu-wrap">
          <ul class="main-menu align-items-center">
            <li class="fs-6">
              <a [routerLink]="['/home']" (click)="hideSidebar()">Home</a>
            </li>

            <!-- Services Mobile Menu -->
            <li>
              <div class="d-flex align-items-center justify-content-between" (click)="toggleMobileMenu('services')">
                <div>Services</div>
                <span class="dropdown-icon2">
                  <i class="bi" [ngClass]="{'bi-dash': isMobileMenuExpanded('services'), 'bi-plus': !isMobileMenuExpanded('services')}"></i>
                </span>
              </div>
              @if(isMobileMenuExpanded('services')) {
                <ul class="submenu-list show">
                  @for (menuItem of getMobileMenuItems('services'); track $index) {
                    @for (column of menuItem.children; track $index) {
                      @if (column.sections && column.sections.length > 0) {
                        @for (section of column.sections; track $index) {
                          <li class="mb-3">
                            <h6 class="text-uppercase fw-bold mb-2" style="font-size: 11px; letter-spacing: 0.5px; color: #6b7280;">
                              {{ section.title }}
                            </h6>
                            <ul class="list-unstyled ps-3">
                              @for (link of section.items; track $index) {
                                <li class="mb-3 d-flex align-items-start">
                                  @if (link.icon) {
                                    <div class="flex-shrink-0 me-3" style="width: 24px; height: 24px;">
                                      <i [class]="link.icon" [style.color]="link.iconColor || '#3b82f6'" style="font-size: 20px;"></i>
                                    </div>
                                  }
                                  <div class="flex-grow-1">
                                    @if (link.routerLink) {
                                      <a class="fs-6 d-block mb-1 fw-semibold text-decoration-none" 
                                         [routerLink]="link.routerLink" 
                                         (click)="hideSidebar()"
                                         style="color: #111827;">
                                        {{ link.title }}
                                      </a>
                                    } @else if (link.link) {
                                      <a class="fs-6 d-block mb-1 fw-semibold text-decoration-none" 
                                         [href]="link.link" 
                                         (click)="hideSidebar()"
                                         style="color: #111827;">
                                        {{ link.title }}
                                      </a>
                                    } @else {
                                      <span class="fs-6 d-block mb-1 fw-semibold" style="color: #111827;">
                                        {{ link.title }}
                                      </span>
                                    }
                                    @if (link.description) {
                                      <p class="mb-0 small" style="color: #6b7280; font-size: 12px; line-height: 1.5;">
                                        {{ link.description }}
                                      </p>
                                    }
                                  </div>
                                </li>
                              }
                            </ul>
                          </li>
                        }
                      }
                      @if (column.guide) {
                        <li class="mt-3 pt-3 border-top">
                          <p class="mb-2 fw-semibold small" style="color: #111827;">
                            {{ column.guide.question }}
                          </p>
                          @if (column.guide.routerLink) {
                            <a [routerLink]="column.guide.routerLink" 
                               (click)="hideSidebar()"
                               class="text-decoration-none d-inline-flex align-items-center fw-semibold small"
                               style="color: #3b82f6;">
                              {{ column.guide.linkText }}
                              <i class="bi bi-arrow-right ms-2" style="font-size: 12px;"></i>
                            </a>
                          } @else if (column.guide.link) {
                            <a [href]="column.guide.link" 
                               (click)="hideSidebar()"
                               class="text-decoration-none d-inline-flex align-items-center fw-semibold small"
                               style="color: #3b82f6;">
                              {{ column.guide.linkText }}
                              <i class="bi bi-arrow-right ms-2" style="font-size: 12px;"></i>
                            </a>
                          }
                        </li>
                      }
                    }
                  }
                </ul>
              }
            </li>

            <!-- Products Mobile Menu -->
            @if(productNav.length > 0) {
              <li>
                <div class="d-flex align-items-center justify-content-between" (click)="toggleMobileMenu('products')">
                  <div>Products</div>
                  <span class="dropdown-icon2">
                    <i class="bi" [ngClass]="{'bi-dash': isMobileMenuExpanded('products'), 'bi-plus': !isMobileMenuExpanded('products')}"></i>
                  </span>
                </div>
                @if(isMobileMenuExpanded('products')) {
                  <ul class="submenu-list show">
                    @for (menuItem of getMobileMenuItems('products'); track $index) {
                      @for (column of menuItem.children; track $index) {
                        @if (column.sections && column.sections.length > 0) {
                          @for (section of column.sections; track $index) {
                            <li class="mb-3">
                              <h6 class="text-uppercase fw-bold mb-2" style="font-size: 11px; letter-spacing: 0.5px; color: #6b7280;">
                                {{ section.title }}
                              </h6>
                              <ul class="list-unstyled ps-3">
                                @for (link of section.items; track $index) {
                                  <li class="mb-3 d-flex align-items-start">
                                    @if (link.icon) {
                                      <div class="flex-shrink-0 me-3" style="width: 24px; height: 24px;">
                                        <i [class]="link.icon" [style.color]="link.iconColor || '#3b82f6'" style="font-size: 20px;"></i>
                                      </div>
                                    }
                                    <div class="flex-grow-1">
                                      @if (link.routerLink) {
                                        <a class="fs-6 d-block mb-1 fw-semibold text-decoration-none" 
                                           [routerLink]="link.routerLink" 
                                           (click)="hideSidebar()"
                                           style="color: #111827;">
                                          {{ link.title }}
                                        </a>
                                      } @else if (link.link) {
                                        <a class="fs-6 d-block mb-1 fw-semibold text-decoration-none" 
                                           [href]="link.link" 
                                           (click)="hideSidebar()"
                                           style="color: #111827;">
                                          {{ link.title }}
                                        </a>
                                      } @else {
                                        <span class="fs-6 d-block mb-1 fw-semibold" style="color: #111827;">
                                          {{ link.title }}
                                        </span>
                                      }
                                      @if (link.description) {
                                        <p class="mb-0 small" style="color: #6b7280; font-size: 12px; line-height: 1.5;">
                                          {{ link.description }}
                                        </p>
                                      }
                                    </div>
                                  </li>
                                }
                              </ul>
                            </li>
                          }
                        }
                        @if (column.guide) {
                          <li class="mt-3 pt-3 border-top">
                            <p class="mb-2 fw-semibold small" style="color: #111827;">
                              {{ column.guide.question }}
                            </p>
                            @if (column.guide.routerLink) {
                              <a [routerLink]="column.guide.routerLink" 
                                 (click)="hideSidebar()"
                                 class="text-decoration-none d-inline-flex align-items-center fw-semibold small"
                                 style="color: #3b82f6;">
                                {{ column.guide.linkText }}
                                <i class="bi bi-arrow-right ms-2" style="font-size: 12px;"></i>
                              </a>
                            } @else if (column.guide.link) {
                              <a [href]="column.guide.link" 
                                 (click)="hideSidebar()"
                                 class="text-decoration-none d-inline-flex align-items-center fw-semibold small"
                                 style="color: #3b82f6;">
                                {{ column.guide.linkText }}
                                <i class="bi bi-arrow-right ms-2" style="font-size: 12px;"></i>
                              </a>
                            }
                          </li>
                        }
                      }
                    }
                  </ul>
                }
              </li>
            }

            <!-- Case Studies Mobile Menu -->
            <li>
              <div class="d-flex align-items-center justify-content-between" (click)="toggleMobileMenu('case-studies')">
                <div>Case studies</div>
                <span class="dropdown-icon2">
                  <i class="bi" [ngClass]="{'bi-dash': isMobileMenuExpanded('case-studies'), 'bi-plus': !isMobileMenuExpanded('case-studies')}"></i>
                </span>
              </div>
              @if(isMobileMenuExpanded('case-studies')) {
                <ul class="submenu-list show">
                  @for (menuItem of getMobileMenuItems('case-studies'); track $index) {
                    @for (column of menuItem.children; track $index) {
                      @if (column.sections && column.sections.length > 0) {
                        @for (section of column.sections; track $index) {
                          <li class="mb-3">
                            <h6 class="text-uppercase fw-bold mb-2" style="font-size: 11px; letter-spacing: 0.5px; color: #6b7280;">
                              {{ section.title }}
                            </h6>
                            <ul class="list-unstyled ps-3">
                              @for (link of section.items; track $index) {
                                <li class="mb-3 d-flex align-items-start">
                                  @if (link.icon) {
                                    <div class="flex-shrink-0 me-3" style="width: 24px; height: 24px;">
                                      <i [class]="link.icon" [style.color]="link.iconColor || '#3b82f6'" style="font-size: 20px;"></i>
                                    </div>
                                  }
                                  <div class="flex-grow-1">
                                    @if (link.routerLink) {
                                      <a class="fs-6 d-block mb-1 fw-semibold text-decoration-none" 
                                         [routerLink]="link.routerLink" 
                                         (click)="hideSidebar()"
                                         style="color: #111827;">
                                        {{ link.title }}
                                      </a>
                                    } @else if (link.link) {
                                      <a class="fs-6 d-block mb-1 fw-semibold text-decoration-none" 
                                         [href]="link.link" 
                                         (click)="hideSidebar()"
                                         style="color: #111827;">
                                        {{ link.title }}
                                      </a>
                                    } @else {
                                      <span class="fs-6 d-block mb-1 fw-semibold" style="color: #111827;">
                                        {{ link.title }}
                                      </span>
                                    }
                                    @if (link.description) {
                                      <p class="mb-0 small" style="color: #6b7280; font-size: 12px; line-height: 1.5;">
                                        {{ link.description }}
                                      </p>
                                    }
                                  </div>
                                </li>
                              }
                            </ul>
                          </li>
                        }
                      }
                      @if (column.guide) {
                        <li class="mt-3 pt-3 border-top">
                          <p class="mb-2 fw-semibold small" style="color: #111827;">
                            {{ column.guide.question }}
                          </p>
                          @if (column.guide.routerLink) {
                            <a [routerLink]="column.guide.routerLink" 
                               (click)="hideSidebar()"
                               class="text-decoration-none d-inline-flex align-items-center fw-semibold small"
                               style="color: #3b82f6;">
                              {{ column.guide.linkText }}
                              <i class="bi bi-arrow-right ms-2" style="font-size: 12px;"></i>
                            </a>
                          } @else if (column.guide.link) {
                            <a [href]="column.guide.link" 
                               (click)="hideSidebar()"
                               class="text-decoration-none d-inline-flex align-items-center fw-semibold small"
                               style="color: #3b82f6;">
                              {{ column.guide.linkText }}
                              <i class="bi bi-arrow-right ms-2" style="font-size: 12px;"></i>
                            </a>
                          }
                        </li>
                      }
                    }
                  }
                </ul>
              }
            </li>

            <!-- Blog Mobile Menu -->
            <li>
              <div class="d-flex align-items-center justify-content-between" (click)="toggleMobileMenu('blog')">
                <div>Blog</div>
                <span class="dropdown-icon2">
                  <i class="bi" [ngClass]="{'bi-dash': isMobileMenuExpanded('blog'), 'bi-plus': !isMobileMenuExpanded('blog')}"></i>
                </span>
              </div>
              @if(isMobileMenuExpanded('blog')) {
                <ul class="submenu-list show">
                  @for (menuItem of getMobileMenuItems('blog'); track $index) {
                    @for (column of menuItem.children; track $index) {
                      @if (column.sections && column.sections.length > 0) {
                        @for (section of column.sections; track $index) {
                          <li class="mb-3">
                            <h6 class="text-uppercase fw-bold mb-2" style="font-size: 11px; letter-spacing: 0.5px; color: #6b7280;">
                              {{ section.title }}
                            </h6>
                            <ul class="list-unstyled ps-3">
                              @for (link of section.items; track $index) {
                                <li class="mb-3 d-flex align-items-start">
                                  @if (link.icon) {
                                    <div class="flex-shrink-0 me-3" style="width: 24px; height: 24px;">
                                      <i [class]="link.icon" [style.color]="link.iconColor || '#3b82f6'" style="font-size: 20px;"></i>
                                    </div>
                                  }
                                  <div class="flex-grow-1">
                                    @if (link.routerLink) {
                                      <a class="fs-6 d-block mb-1 fw-semibold text-decoration-none" 
                                         [routerLink]="link.routerLink" 
                                         (click)="hideSidebar()"
                                         style="color: #111827;">
                                        {{ link.title }}
                                      </a>
                                    } @else if (link.link) {
                                      <a class="fs-6 d-block mb-1 fw-semibold text-decoration-none" 
                                         [href]="link.link" 
                                         (click)="hideSidebar()"
                                         style="color: #111827;">
                                        {{ link.title }}
                                      </a>
                                    } @else {
                                      <span class="fs-6 d-block mb-1 fw-semibold" style="color: #111827;">
                                        {{ link.title }}
                                      </span>
                                    }
                                    @if (link.description) {
                                      <p class="mb-0 small" style="color: #6b7280; font-size: 12px; line-height: 1.5;">
                                        {{ link.description }}
                                      </p>
                                    }
                                  </div>
                                </li>
                              }
                            </ul>
                          </li>
                        }
                      }
                      @if (column.guide) {
                        <li class="mt-3 pt-3 border-top">
                          <p class="mb-2 fw-semibold small" style="color: #111827;">
                            {{ column.guide.question }}
                          </p>
                          @if (column.guide.routerLink) {
                            <a [routerLink]="column.guide.routerLink" 
                               (click)="hideSidebar()"
                               class="text-decoration-none d-inline-flex align-items-center fw-semibold small"
                               style="color: #3b82f6;">
                              {{ column.guide.linkText }}
                              <i class="bi bi-arrow-right ms-2" style="font-size: 12px;"></i>
                            </a>
                          } @else if (column.guide.link) {
                            <a [href]="column.guide.link" 
                               (click)="hideSidebar()"
                               class="text-decoration-none d-inline-flex align-items-center fw-semibold small"
                               style="color: #3b82f6;">
                              {{ column.guide.linkText }}
                              <i class="bi bi-arrow-right ms-2" style="font-size: 12px;"></i>
                            </a>
                          }
                        </li>
                      }
                    }
                  }
                </ul>
              }
            </li>
          </ul>
         
        
        </div>
      </div>
    </div>
  </div>
</div>
<!-- End Sidebar section -->
<!-- Start header section -->
<header class="header-area style-2">
  <div class="container d-flex flex-nowrap align-items-center justify-content-between">
    <div class="company-logo">
      <a class="logo-dark" [routerLink]="['/home']"><img alt="image" class="img-fluid"
          src="assets/img/logo_light.svg" width="152" height="45"/></a>
      <!-- <a class="logo-light" [routerLink]="['/home']"><img alt="image" class="img-fluid"
          src="assets/img/logo_light.svg" /></a> -->
    </div>
    <div class="main-menu d-lg-flex d-none">
      <ul class="menu-list">
        <li>
          <a [routerLink]="['/home']">Home</a>
        </li>
        <li class="menu-item-has-children"
            (mouseenter)="showMegamenu('services')"
            (mouseleave)="hideMegamenu()">
          <div class="drop-down">Services</div>
          <i class="bi bi-plus dropdown-icon"></i>
        </li>
        @if(productNav.length > 0){
        <li class="menu-item-has-children"
            (mouseenter)="showMegamenu('products')"
            (mouseleave)="hideMegamenu()">
          <div class="drop-down">Products</div>
          <i class="bi bi-plus dropdown-icon"></i>
        </li>
        }
        <li class="menu-item-has-children"
            (mouseenter)="showMegamenu('case-studies')"
            (mouseleave)="hideMegamenu()">
          <div class="drop-down">Case studies</div>
          <i class="bi bi-plus dropdown-icon"></i>
        </li>
        <li class="menu-item-has-children"
            (mouseenter)="showMegamenu('blog')"
            (mouseleave)="hideMegamenu()">
          <div class="drop-down">Blog</div>
          <i class="bi bi-plus dropdown-icon"></i>
        </li>
      </ul>
    </div>
    <div class="nav-right d-flex jsutify-content-end align-items-center">
      <div class="sidebar-and-btn">
        <div class="sidebar-btn d-lg-none" (click)="toggleSidebar()">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
            <g>
              <path
                d="M6.79688 9.375H2.57812C1.15652 9.375 0 8.21848 0 6.79688V2.57812C0 1.15652 1.15652 0 2.57812 0H6.79688C8.21848 0 9.375 1.15652 9.375 2.57812V6.79688C9.375 8.21848 8.21848 9.375 6.79688 9.375ZM2.57812 1.25C1.84578 1.25 1.25 1.84578 1.25 2.57812V6.79688C1.25 7.52922 1.84578 8.125 2.57812 8.125H6.79688C7.52922 8.125 8.125 7.52922 8.125 6.79688V2.57812C8.125 1.84578 7.52922 1.25 6.79688 1.25H2.57812ZM17.4219 9.375H13.2031C11.7815 9.375 10.625 8.21848 10.625 6.79688V2.57812C10.625 1.15652 11.7815 0 13.2031 0H17.4219C18.8435 0 20 1.15652 20 2.57812V6.79688C20 8.21848 18.8435 9.375 17.4219 9.375ZM13.2031 1.25C12.4708 1.25 11.875 1.84578 11.875 2.57812V6.79688C11.875 7.52922 12.4708 8.125 13.2031 8.125H17.4219C18.1542 8.125 18.75 7.52922 18.75 6.79688V2.57812C18.75 1.84578 18.1542 1.25 17.4219 1.25H13.2031ZM15.3125 20C12.7278 20 10.625 17.8972 10.625 15.3125C10.625 12.7278 12.7278 10.625 15.3125 10.625C17.8972 10.625 20 12.7278 20 15.3125C20 17.8972 17.8972 20 15.3125 20ZM15.3125 11.875C13.4171 11.875 11.875 13.4171 11.875 15.3125C11.875 17.2079 13.4171 18.75 15.3125 18.75C17.2079 18.75 18.75 17.2079 18.75 15.3125C18.75 13.4171 17.2079 11.875 15.3125 11.875ZM6.79688 20H2.57812C1.15652 20 0 18.8435 0 17.4219V13.2031C0 11.7815 1.15652 10.625 2.57812 10.625H6.79688C8.21848 10.625 9.375 11.7815 9.375 13.2031V17.4219C9.375 18.8435 8.21848 20 6.79688 20ZM2.57812 11.875C1.84578 11.875 1.25 12.4708 1.25 13.2031V17.4219C1.25 18.1542 1.84578 18.75 2.57812 18.75H6.79688C7.52922 18.75 8.125 18.1542 8.125 17.4219V13.2031C8.125 12.4708 7.52922 11.875 6.79688 11.875H2.57812Z" />
            </g>
          </svg>
        </div>
        <a [routerLink]="['assessment/basic-details']" class="primary-btn2 d-lg-flex d-none"
          data-text="Free Consultation"><span>Free Consultation</span>
        </a>
      </div>
    </div>
  </div>
</header>

<!-- Megamenu Component -->
<app-megamenu 
  [menuItems]="menuItems"
  [isOpen]="isMegamenuOpen"
  (closeMenu)="hideMegamenu()"
  (mouseEnter)="keepMegamenuOpen()"
  (mouseLeave)="hideMegamenu()">
</app-megamenu>